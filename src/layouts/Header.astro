---
// This script runs on the client-side
---
<header class="bg-[#c2b1d2] p-4 md:px-8 fixed top-0 right-0 w-full z-50 flex justify-between items-center">
  <img 
    src="/images/VFP Monogram - Black.png" 
    alt="Company Logo" 
    class="h-auto w-[130px] object-contain ml-[40px]" 
  />
  <nav class="flex justify-end gap-8 items-center">
    <nav class="flex justify-end gap-8 items-center">
  <a href="/#home-page" data-target="home-page" class="nav-link text-[#0f0000] no-underline text-lg font-medium transition-colors duration-300 ease-in-out hover:text-gray-300">Home</a>
  <a href="/#about-us-page" data-target="about-us-page" class="nav-link text-[#0f0000] no-underline text-lg font-medium transition-colors duration-300 ease-in-out hover:text-gray-300">About Us</a>
  <a href="/#projects-page" data-target="projects-page" class="nav-link text-[#0f0000] no-underline text-lg font-medium transition-colors duration-300 ease-in-out hover:text-gray-300">Film Projects</a>
  <a href="/#contact-us-page" data-target="contact-us-page" class="nav-link text-[#0f0000] no-underline text-lg font-medium transition-colors duration-300 ease-in-out hover:text-gray-300">Contact Us</a>
</nav>
  </nav>
  </nav>
</header>

<script>
  // A robust script to wait for the Swiper instance
  const swiperEl = document.getElementById('main-swiper');
  const navLinks = document.querySelectorAll('[data-target]');
  
  if (swiperEl) {
    const checkSwiper = () => {
      // Swiper attaches its instance to the DOM element after hydration
      const swiperInstance = (swiperEl as any).swiper;
      
      if (swiperInstance) {
        // Swiper is ready, so we can add the event listeners now
        navLinks.forEach(link => {
          link.addEventListener('click', (event) => {
            event.preventDefault(); 
            const targetHash = link.getAttribute('data-target');
            
            let slideIndex = -1;
            swiperInstance.slides.forEach((slide: { dataset: { hash: string | null; }; }, index: number) => {
              if (slide.dataset.hash === targetHash) {
                slideIndex = index;
              }
            });

            if (slideIndex !== -1) {
              swiperInstance.slideTo(slideIndex);
            }
          });
        });
      } else {
        // Swiper is not ready, so we check again after a short delay
        setTimeout(checkSwiper, 50);
      }
    };
    
    checkSwiper();
  }
</script>
