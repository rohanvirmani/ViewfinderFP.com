---
---
<header class="bg-[#c2b1d2] p-4 md:px-8 fixed top-0 right-0 w-full z-[100] flex justify-between items-center">
  <img 
    src="/images/VFP Monogram - Black.png" 
    alt="Company Logo" 
    class="h-auto w-[100px] md:w-[130px] object-contain ml-4 md:ml-[40px]" 
  />
  
  <!-- Mobile menu button -->
  <button 
    id="mobile-menu-button" 
    class="md:hidden p-2 text-[#0f0000] hover:text-gray-300 z-[101] cursor-pointer touch-manipulation"
    aria-label="Toggle menu"
    type="button"
    style="touch-action: manipulation;"
  >
    <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
    </svg>
  </button>

  <!-- Navigation menu -->
  <nav id="nav-menu" class="fixed md:relative top-[72px] md:top-0 right-0 w-full md:w-auto bg-[#c2b1d2] md:bg-transparent transform translate-x-full md:translate-x-0 transition-transform duration-300 ease-in-out md:transition-none z-[99]">
    <div class="flex flex-col md:flex-row justify-end gap-4 md:gap-8 items-center p-4 md:p-0">
      <a href="/#home-page" data-target="home-page" class="nav-link text-[#0f0000] no-underline text-lg font-medium transition-colors duration-300 ease-in-out hover:text-gray-300 w-full md:w-auto text-center py-2 md:py-0">Home</a>
      <a href="/#about-us-page" data-target="about-us-page" class="nav-link text-[#0f0000] no-underline text-lg font-medium transition-colors duration-300 ease-in-out hover:text-gray-300 w-full md:w-auto text-center py-2 md:py-0">About Us</a>
      <a href="/#projects-page" data-target="projects-page" class="nav-link text-[#0f0000] no-underline text-lg font-medium transition-colors duration-300 ease-in-out hover:text-gray-300 w-full md:w-auto text-center py-2 md:py-0">Film Projects</a>
      <a href="/#contact-us-page" data-target="contact-us-page" class="nav-link text-[#0f0000] no-underline text-lg font-medium transition-colors duration-300 ease-in-out hover:text-gray-300 w-full md:w-auto text-center py-2 md:py-0">Contact Us</a>
    </div>
  </nav>
</header>

<script is:inline>
  // Initialize the mobile menu functionality immediately
  function initMobileMenu() {
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const navMenu = document.getElementById('nav-menu');
    let isMenuOpen = false;

    if (!mobileMenuButton || !navMenu) return;

    function toggleMenu(event) {
      if (event) {
        event.preventDefault();
        event.stopPropagation();
      }
      
      isMenuOpen = !isMenuOpen;
      navMenu.style.transform = isMenuOpen ? 'translateX(0)' : 'translateX(100%)';
      mobileMenuButton.setAttribute('aria-expanded', isMenuOpen.toString());
    }

    // Add both click and touchstart events for better mobile response
    const handleInteraction = (event) => {
      event.preventDefault();
      toggleMenu(event);
    };

    mobileMenuButton.addEventListener('click', handleInteraction, { passive: false });
    mobileMenuButton.addEventListener('touchstart', handleInteraction, { passive: false });

    // Close menu when clicking navigation links
    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', () => {
        if (window.innerWidth < 768) {
          isMenuOpen = false;
          navMenu.style.transform = 'translateX(100%)';
          mobileMenuButton.setAttribute('aria-expanded', 'false');
        }
      });
    });

    // Close menu when clicking outside
    document.addEventListener('click', (event) => {
      const target = event.target;
      if (isMenuOpen && 
          target instanceof Node && 
          !navMenu.contains(target) && 
          !mobileMenuButton.contains(target)) {
        toggleMenu();
      }
    });

    // Handle window resize
    window.addEventListener('resize', () => {
      if (window.innerWidth >= 768) {
        navMenu.style.transform = 'translateX(0)';
        isMenuOpen = false;
        mobileMenuButton.setAttribute('aria-expanded', 'false');
      } else if (!isMenuOpen) {
        navMenu.style.transform = 'translateX(100%)';
      }
    });
  }

  // Initialize immediately
  window.addEventListener('load', initMobileMenu);
  // Also initialize when DOM is fully loaded (backup)
  document.addEventListener('DOMContentLoaded', initMobileMenu);
</script>

<style>
  /* Prevent text selection on button */
  #mobile-menu-button {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
  }

  /* Ensure proper touch target size */
  @media (max-width: 768px) {
    #mobile-menu-button {
      min-width: 44px;
      min-height: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
  }
</style>